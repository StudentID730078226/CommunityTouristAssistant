{% extends "base.html" %}
{% load static %}

{% block title %}Sign Up{% endblock %}

{% block content %}
<section class="auth-wrapper" aria-labelledby="signup-heading">
  <div class="row g-4 align-items-stretch">
    <div class="col-12 col-lg-7">
      <div class="card auth-card shadow-sm h-100">
        <div class="card-body p-4 p-md-5">
          <h2 id="signup-heading" class="mb-2">Create your account</h2>
          <p class="text-muted mb-4">
            Sign up to contribute places, write reviews, and save favorites.
          </p>

          <form method="post" aria-labelledby="signup-heading" novalidate>
            {% csrf_token %}

            <div class="row g-3">
              <div class="col-12">
                <label for="id_username" class="form-label">Username</label>
                <input
                  type="text"
                  id="id_username"
                  name="username"
                  class="form-control {% if form_errors.username %}is-invalid{% endif %}"
                  required
                  autocomplete="username"
                  placeholder="Choose a username"
                  value="{{ form_data.username }}"
                  {% if form_errors.username %}aria-invalid="true" aria-describedby="username-error"{% endif %}
                >
                {% if form_errors.username %}
                  <div id="username-error" class="invalid-feedback d-block" role="alert">
                    {{ form_errors.username }}
                  </div>
                {% endif %}
              </div>

              <div class="col-12">
                <label for="id_email" class="form-label">Email address</label>
                <input
                  type="email"
                  id="id_email"
                  name="email"
                  class="form-control {% if form_errors.email %}is-invalid{% endif %}"
                  required
                  autocomplete="email"
                  placeholder="you@example.com"
                  value="{{ form_data.email }}"
                  {% if form_errors.email %}aria-invalid="true" aria-describedby="email-error"{% endif %}
                >
                {% if form_errors.email %}
                  <div id="email-error" class="invalid-feedback d-block" role="alert">
                    {{ form_errors.email }}
                  </div>
                {% endif %}
              </div>
            </div>

            <div class="auth-password mt-4 p-3 p-md-4">
              <h3 class="h6 mb-2">Password details</h3>
              <p class="text-muted mb-3">Use a strong password you do not reuse elsewhere.</p>

              <div class="row g-3">
                <div class="col-12 col-md-6">
                  <label for="id_password1" class="form-label">Password</label>
                  <input
                    type="password"
                    id="id_password1"
                    name="password1"
                    class="form-control {% if form_errors.password1 %}is-invalid{% endif %}"
                    required
                    aria-describedby="{% if form_errors.password1 %}password1-error {% endif %}password-help"
                    autocomplete="new-password"
                    placeholder="Create a password"
                    {% if form_errors.password1 %}aria-invalid="true"{% endif %}
                  >
                  {% if form_errors.password1 %}
                    <div id="password1-error" class="invalid-feedback d-block" role="alert">
                      {{ form_errors.password1 }}
                    </div>
                  {% endif %}
                </div>

                <div class="col-12 col-md-6">
                  <label for="id_password2" class="form-label">Confirm password</label>
                  <input
                    type="password"
                    id="id_password2"
                    name="password2"
                    class="form-control {% if form_errors.password2 %}is-invalid{% endif %}"
                    required
                    aria-describedby="{% if form_errors.password2 %}password2-error {% endif %}password-help"
                    autocomplete="new-password"
                    placeholder="Re-enter password"
                    {% if form_errors.password2 %}aria-invalid="true"{% endif %}
                  >
                  {% if form_errors.password2 %}
                    <div id="password2-error" class="invalid-feedback d-block" role="alert">
                      {{ form_errors.password2 }}
                    </div>
                  {% endif %}
                </div>
              </div>

              <ul id="password-help" class="auth-help list-unstyled mb-0 mt-3">
                <li><i class="bi bi-shield-check" aria-hidden="true"></i> At least 10 characters</li>
                <li><i class="bi bi-shield-check" aria-hidden="true"></i> Not similar to your username or email</li>
                <li><i class="bi bi-shield-check" aria-hidden="true"></i> Not a common password</li>
                <li><i class="bi bi-shield-check" aria-hidden="true"></i> Not all numbers</li>
              </ul>
            </div>

            <div class="d-flex flex-column flex-sm-row gap-3 align-items-sm-center mt-4">
              <button type="submit" class="btn btn-primary">Create account</button>
              <span class="text-muted small">
                We will email you a link to activate your account.
              </span>
            </div>
          </form>

          <p class="auth-meta mt-4 mb-0">
            Already have an account?
            <a href="{% url 'accounts:login' %}">Sign in</a>
          </p>
        </div>
      </div>
    </div>

    <div class="col-12 col-lg-5">
      <aside class="auth-aside h-100 p-4 p-md-5" aria-label="Why create an account">
        <h3 class="h5 mb-3">Build the local guide</h3>
        <p class="text-muted mb-3">
          Your contributions help visitors discover authentic places and keep tourism thriving.
        </p>
        <ul class="auth-list">
          <li><i class="bi bi-check-circle-fill" aria-hidden="true"></i> Submit new places and photos</li>
          <li><i class="bi bi-check-circle-fill" aria-hidden="true"></i> Track moderation updates</li>
          <li><i class="bi bi-check-circle-fill" aria-hidden="true"></i> Earn contribution recognition</li>
        </ul>
      </aside>
    </div>
  </div>
</section>
{% endblock %}

