{% extends "base.html" %}

{% block messages %}{% endblock %}

{% block content %}
<div class="container py-4">
  <h1>Add review for {{ place.name }}</h1>
  {% if messages %}
    <div class="mt-3" aria-live="polite" aria-atomic="true">
      {% for message in messages %}
        <div class="alert alert-{{ message.level_tag }} d-flex align-items-start gap-2" {% if message.level_tag == 'error' %}role="alert"{% else %}role="status"{% endif %}>
          {% if message.level_tag == 'error' %}
            <i class="bi bi-exclamation-triangle-fill" aria-hidden="true"></i>
            <div>
              <strong>There was a problem.</strong>
              <div>{{ message }}</div>
            </div>
          {% else %}
            <i class="bi bi-check-circle-fill" aria-hidden="true"></i>
            <div>
              <strong>Update:</strong>
              <div>{{ message }}</div>
            </div>
          {% endif %}
        </div>
      {% endfor %}
    </div>
  {% endif %}
  <form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="btn btn-primary">Submit review</button>
  </form>
</div>
{% endblock %}
